{"version":3,"sources":["application/views/email/email.coffee"],"names":[],"mappings":"AAAA;EAAA,CAAA,CAAE,QAAF,CAAW,CAAC,KAAZ,CAAkB,CAAA,SAAA,KAAA;WAAA,SAAA;MAChB;AAAA,UAAA;MAEA,UAAA,GAAa,CAAA,CAAE,YAAF;MACb,SAAA,GAAY,CAAA,CAAE,iBAAF;MACZ,OAAA,GAAU,CAAA,CAAE,aAAF;MAEV,IAAG,UAAU,CAAC,MAAX,GAAoB,CAAvB;;AACE;;;QAGA,SAAS,CAAC,EAAV,CAAa,QAAb,EAAuB,SAAA;AACrB,cAAA;UAAA,OAAA,GAAU,SAAS,CAAC,EAAV,CAAa,UAAb;UACV,UAAU,CAAC,IAAX,CAAgB,SAAC,KAAD,EAAQ,IAAR;AACd,gBAAA;YAAA,IAAA,GAAO,CAAA,CAAE,IAAF;YACP,QAAA,GAAW,CAAA,CAAE,2CAAF,EAA+C,IAA/C;YACX,YAAA,GAAe,QAAQ,CAAC,EAAT,CAAY,UAAZ;YAEf,IAAG,OAAA,IAAW,CAAI,YAAlB;cACE,QAAQ,CAAC,IAAT,CAAc,SAAd,EAAyB,IAAzB,EADF;aAAA,MAEK,IAAG,CAAI,OAAJ,IAAe,YAAlB;cACH,QAAQ,CAAC,IAAT,CAAc,SAAd,EAAyB,KAAzB,EADG;;UAPS,CAAhB;QAFqB,CAAvB;;AAcA;;;QAGA,UAAU,CAAC,IAAX,CAAgB,SAAC,KAAD,EAAQ,IAAR;AACd,cAAA;UAAA,IAAA,GAAO,CAAA,CAAE,IAAF;UACP,IAAA,GAAO,IAAI,CAAC,IAAL,CAAU,WAAV;UACP,IAAA,GAAO,CAAA,CAAE,iBAAF,EAAqB,IAArB;;AAEP;;;UAGA,IAAI,CAAC,EAAL,CAAQ,OAAR,EAAiB,SAAA;YACf,IAAI,CAAC,WAAL,CAAiB,UAAjB;UADe,CAAjB;;AAIA;;;UAGA,IAAI,CAAC,EAAL,CAAQ,OAAR,EAAiB,SAAC,CAAD;AACf,gBAAA;YAAA,MAAA,GAAS,CAAA,CAAE,CAAC,CAAC,MAAJ;YACT,IAAG,MAAM,CAAC,OAAP,CAAe,oBAAf,CAAoC,CAAC,MAArC,KAA+C,CAAlD;cACE,MAAM,CAAC,QAAQ,CAAC,IAAhB,GAAuB,KADzB;;UAFe,CAAjB;QAfc,CAAhB,EArBF;;MA2CA,IAAG,OAAO,CAAC,MAAR,GAAiB,CAApB;QACE,OAAO,CAAC,UAAR,CACE;UAAA,SAAA,EACE;YAAA,MAAA,EAAQ,SAAA;cACN,CAAA,CAAE,gBAAF,EAAoB,OAApB,CAA4B,CAAC,QAA7B,CAAsC,OAAtC;YADM,CAAR;WADF;SADF,EADF;;IAlDgB;EAAA,CAAA,CAAA,CAAA,IAAA,CAAlB;AAAA","file":"../../../../coffee/application/views/email/email.js","sourcesContent":["$(document).ready =>\n  'use strict'\n  \n  mail_items = $('.mail-item')\n  check_all = $('#mail-check-all')\n  compose = $('#email-body')\n\n  if mail_items.length > 0\n    ###\n    Handle checking all emails\n    ###\n    check_all.on 'change', =>\n      checked = check_all.is \":checked\"\n      mail_items.each (index, item) =>\n        item = $(item)\n        checkbox = $('.mail-item-actions input[type=\"checkbox\"]', item)\n        checked_item = checkbox.is \":checked\"\n\n        if checked && not checked_item\n          checkbox.prop 'checked', true\n        else if not checked && checked_item\n          checkbox.prop 'checked', false\n        return\n      return\n\n    ###\n    Email item specific actions\n    ###\n    mail_items.each (index, item) =>\n      item = $(item)\n      href = item.attr 'data-href'\n      star = $('.mail-item-star', item)\n\n      ###\n      Set email as starred\n      ###\n      star.on 'click', =>\n        item.toggleClass '-starred'\n        return\n\n      ###\n      Open Email with chosen id\n      ###\n      item.on 'click', (e) =>\n        target = $(e.target)\n        if target.closest('.mail-item-actions').length == 0\n          window.location.href = href\n        return\n      return\n\n  if compose.length > 0\n    compose.summernote\n      callbacks:\n        onInit: =>\n          $('.dropdown-menu', compose).addClass '-dark'\n          return\n  return\n"]}
