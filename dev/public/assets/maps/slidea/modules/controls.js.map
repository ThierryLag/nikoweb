{"version":3,"sources":["slidea/modules/controls.coffee"],"names":[],"mappings":"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","file":"../../../coffee/slidea/modules/controls.js","sourcesContent":["(($, window, document) ->\n  \"use strict\"\n\n  $.fn.slidea.controls = ->\n    ###\n    Set up slider controls\n    ###\n    @settings =\n      enabled: false # Add next / prev buttons\n      thumbnail: false # Add thumbnail to controls\n      html:\n        prev: \"&lt;\"\n        next: \"&gt;\"\n      class: \"slidea-controls-alternate\" # Additional control classes\n\n    ###\n    Set thumbnail sources for each slide\n    ###\n    set_thumbnails = ->\n      return unless @settings.controls.thumbnail\n\n      @slides.each (index, slide) =>\n        slide = $(slide)\n        background = $(@settings.selector.background, slide)\n\n        if !@data[index].thumbnail?\n          thumbnail = slide.attr('data-slidea-thumbnail')\n          if thumbnail?\n            @data[index].thumbnail = thumbnail\n          else if background.attr('data-slidea-src')?\n            @data[index].thumbnail = background.attr('data-slidea-src')\n          else\n            @data[index].thumbnail = background.attr('src')\n        return\n      return\n\n    ###\n    Slider Initialization Event\n    ###\n    @initialize = ->\n      @settings.controls.enabled = false if @slides_length == 1\n      return\n\n    ###\n    Add controls to the slider\n    ###\n    @load = ->\n      set_thumbnails.call @\n\n      html = ''\n      for control in ['next', 'prev']\n        alt = control.toLowerCase().replace /\\b[a-z]/g, (letter) ->\n          return letter.toUpperCase()\n\n        html += '<a href=\"javascript:void(0);\" class=\"slidea-control slidea-' + control + ' ' + @settings.controls.class + '\">'\n        html += '<div class=\"slidea-control-inner\">'\n        if @settings.controls.thumbnail is true\n          html += '<div class=\"slidea-control-thumbnail\">'\n          html += '<img src=\"\" alt=\"' + alt + ' Slide\" class=\"slidea-control-image\"/>'\n          html += '</div>'\n        html += '<div class=\"slidea-control-text\">'\n        html += @settings.controls.html[control]\n        html += '</div>'\n        html += '</div>'\n        html += '</a>'\n\n      # Add controls HTML\n      @wrapper.append html\n\n      # Set previous button\n      @prev_button = $(@settings.selector.prev, @element)\n      @prev_button.on 'click', =>\n        @slide @current - 1\n        return\n\n      # Set next button\n      @next_button = $(@settings.selector.next, @element)\n      @next_button.on 'click', =>\n        @slide @current + 1\n        return\n\n      # Set thumbnails\n      if @settings.controls.thumbnail is true\n        @prev_thumbnail = $('.slidea-control-image', @prev_button)\n        @next_thumbnail = $('.slidea-control-image', @next_button)\n\n      return\n\n    ###\n    Run on slide modifiers for controls\n    ###\n    @slide = (from, to) ->\n      if @settings.controls.thumbnail\n        change_thumbnails = =>\n          @prev_thumbnail.attr 'src', @data[@prev_slide].thumbnail\n          @next_thumbnail.attr 'src', @data[@next_slide].thumbnail\n          return\n\n        if not change_thumbnails_interval\n          change_thumbnails_interval = setInterval =>\n            if @prev_thumbnail and @next_thumbnail\n              change_thumbnails()\n\n              clearInterval change_thumbnails_interval\n              change_thumbnails_interval = true\n            return\n          , 750\n        else\n          change_thumbnails()\n\n        @log \"Changed control thumbnails to prev[#{from}] and next[#{to}].\"\n      return\n    return\n\n  # Add the feature to Slidea as a new instance\n  #\n  $.slidea.register_module 'controls', $.fn.slidea.controls\n\n) window.jQuery, window, document\n"]}
